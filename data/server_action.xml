<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- 
        This action allows administrators to manually re-process the data of selected forms.
        It's useful for fixing records after a change in the data extraction logic.
        -->
        <record id="action_reprocess_form_data" model="ir.actions.server">
            <field name="name">Re-Process Form Data</field>
            <field name="model_id" ref="formio.model_formio_form"/>
            <field name="binding_model_id" ref="formio.model_formio_form"/>
            <field name="binding_view_types">list,form</field>
            <field name="state">code</field>
            <field name="code">
if records:
    records.action_reprocess_data()
            </field>
            <!-- This action is only visible to system administrators -->
            <field name="groups_id" eval="[(4, ref('base.group_system'))]"/>
        </record>
    </data>
</odoo> 